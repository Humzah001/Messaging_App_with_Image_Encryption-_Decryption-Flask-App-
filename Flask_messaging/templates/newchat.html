<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Messaging</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <!-- Your custom styles -->
    <style>
      .text-right {
        text-align: right;
      }
      body {
        background-color: #302f3f;
        margin: 0;
      }

      .container {
        background-color: #f4f4f3;
        border-radius: 0;
        padding: 0;
        margin: 30;
      }

      .navbar {
        background-color: #d9a769;
      }

      .navbar-brand {
        color: #302f3f;
      }

      .navbar-brand:hover {
        color: #302f3f;
      }

      .navbar-nav {
        margin-left: auto;
      }

      .nav-item {
        margin-right: 20px;
      }

      h2 {
        color: #e2442f;
        text-align: center;
        margin-bottom: 30px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-control {
        border-color: #d9a769;
        border-radius: 4px;
        font-size: 14px;
        background-color: #f4f4f3;
        color: #302f3f;
      }

      .btn-primary {
        background-color: #d9a769;
        border-color: #d9a769;
        border-radius: 4px;
        font-size: 14px;
        cursor: pointer;
      }
      .recent-chats {
        flex: 1; /* Fill remaining vertical space */
        background-color: #f4f4f3;
        padding: 15px;
        overflow-y: auto; /* Add scrollbars for long chats */
      }

      .chat-div {
        border-right: 1px solid black;
        padding-left: 20px;
      }

      .chat-messages {
        width: 100%; /* Take the full width */
        padding: 15px;
      }

      .chat {
        background-color: #f4f4f3;
        border-radius: 10px;
        padding: 10px;
        margin-bottom: 10px;
        cursor: pointer; /* Add a pointer cursor to indicate chat selection */
      }

      .chat.active {
        background-color: #d9a769; /* Change the background color for selected chat */
      }

      /* Message Input Section */
      .message-input {
        display: flex;
      }

      .message-input textarea {
        flex-grow: 1;
        border-color: #d9a769;
        border-radius: 4px;
        font-size: 14px;
        background-color: #f4f4f3;
        color: #302f3f;
        resize: none;
      }

      /* Border between sections */
      .border {
        border-bottom: 1px solid #d9a769;
        margin-bottom: 15px;
      }

      /* Button to open the chat search bar */
      #openChatSearch {
        background-color: #d9a769;
        border-color: #d9a769;
        border-radius: 4px;
        font-size: 14px;
        cursor: pointer;
        margin-bottom: 15px;
      }

      /* Chat search bar (initially hidden) */
      .chat-search-bar {
        display: none;
        margin-bottom: 15px;
      }
      .body {
        background-color: #ededed;
        margin-left: 280px;
        margin-top: 10px;
      }
      .add_chat {
        margin-top: 10px;
        width: 100%;
      }
      .send_message {
        margin-top: 300px;
      }
      .user_click {
        border: none !important;
        background-color: #d9a769;
        width: 100%;
        border-radius: 12px;
      }
      h2 {
      color: #E2442F;
      text-align: center;
      margin-top: 30px;
      margin-bottom: 30px;
    }
    </style>
  </head>

  <body>
    <h2>Users</h2>
    <div class="container">
        <!-- Table to display reports -->
        {% for user in user_data %}
        <div class="chat {% if loop.first %}active{% endif %}">
          <form method="POST" action="/newchats/{{user.id}}">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th><h5>Username</h5></th>
                        <th><h5>Email</h5></th>
                        <th><h5>Content</h5></th>
                        <th><h5>Action</h5></th>
                    </tr>
                </thead>
                <tbody id="reportTable">
                    <tr>
                        <th>{{ user.username }}</th>
                        <th>{{ user.email}}</th>
                        <th><textarea name="Description" id="Description" cols="30" rows="2"></textarea></th>
                        <th> <button class="user_click" type="submit">Send</button></th>
                    </tr>
                </tbody>
            </table>
            <br>
          </form>
        </div>
        {% endfor %}
    </div>
  </body>
</html>
